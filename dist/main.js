!function(){"use strict";class e{constructor(e){"string"==typeof e&&(e=document.querySelector(e)),this.element=e,this.actualElement,this.onMouseDown=this.onMouseDown.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.element.addEventListener("mousedown",this.onMouseDown)}onMouseOver(e){e.target.classList.contains("colomn-card")&&(this.actualElement.style.top=`${e.clientY}px`,this.actualElement.style.left=`${e.clientX}px`)}onMouseUp(e){const t=e.target;let n=[];if(t.classList.contains("colomn-card__text")){t.parentElement.insertAdjacentElement("beforebegin",this.actualElement);const e=this.actualElement.parentElement.parentElement.id,a=this.actualElement.children[0].textContent,s=this.actualElement.parentElement;n=JSON.parse(localStorage.getItem(e));const l=Array.from(s.children).indexOf(this.actualElement);n.splice(l,0,a),localStorage.setItem(e,JSON.stringify(n))}if(t.classList.contains("column")&&0===t.children[1].childNodes.length){t.children[1].insertAdjacentElement("afterbegin",this.actualElement);const e=this.actualElement.parentElement.parentElement.id,a=this.actualElement.children[0].textContent;n.push(a),localStorage.setItem(e,JSON.stringify(n))}this.actualElement.classList.remove("dragged"),this.actualElement=void 0,this.element.removeEventListener("mouseup",this.onMouseUp),this.element.removeEventListener("mouseover",this.onMouseOver)}onMouseDown(e){e.preventDefault();let t=[];if(!e.target.classList.contains("colomn-card__text"))return;this.actualElement=e.target.parentElement;const n=this.actualElement.parentElement.parentElement.id,a=this.actualElement.parentElement;t=JSON.parse(localStorage.getItem(n));const s=Array.from(a.children).indexOf(this.actualElement);t.splice(s,1),localStorage.setItem(n,JSON.stringify(t)),this.actualElement.classList.add("dragged"),this.element.addEventListener("mouseup",this.onMouseUp),this.element.addEventListener("mouseover",this.onMouseOver)}}class t{constructor(e){"string"==typeof e&&(e=document.querySelector(e)),this.element=e,this.onNewCard=this.onNewCard.bind(this),this.addNewCard=this.addNewCard.bind(this),this.deleteNewCard=this.deleteNewCard.bind(this),this.deleteCard=this.deleteCard.bind(this),this.element.addEventListener("click",this.onNewCard),this.element.addEventListener("click",this.addNewCard),this.element.addEventListener("click",this.deleteNewCard),this.element.addEventListener("click",this.deleteCard)}onNewCard(e){e.preventDefault(),e.target.classList.contains("column-add__card")&&e.target.parentElement.insertAdjacentHTML("beforeEnd"," <form class='card-new'>\n            <textarea class='card-new__text' id=\"name\" type='text' required placeholder='Enter a title for this card...'></textarea>\n            <div class='card-new-container'>\n                <button class='card-new-container__button'>Add Card</button>\n                <div class=\"card-new-container__close\">&#10006;</div>\n            </div>\n         </form>")}addNewCard(e){e.preventDefault();let t=[];if(!e.target.classList.contains("card-new-container__button"))return;const n=e.target.parentElement.parentElement.children[0].value,a=e.target.parentElement.parentElement.parentElement.id;null!==localStorage.getItem(a)?(t=JSON.parse(localStorage.getItem(a)),t.push(n),localStorage.setItem(a,JSON.stringify(t))):(t.push(n),localStorage.setItem(a,JSON.stringify(t)));const s=this.element.querySelector("form");s.parentElement.children[1].insertAdjacentHTML("beforeEnd",`<div class="colomn-card">\n                <div class="colomn-card__text">${n}</div>\n                <div class="colomn-card__close">&#10006</div>\n            </div>`),s.remove()}deleteNewCard(e){e.preventDefault(),e.target.classList.contains("card-new-container__close")&&this.element.querySelector("form").remove()}deleteCard(e){e.preventDefault();let t=[];if(!e.target.classList.contains("colomn-card__close"))return;const n=e.target.parentElement.parentElement.parentElement.id,a=e.target.parentElement.parentElement;t=JSON.parse(localStorage.getItem(n));const s=Array.from(a.children).indexOf(e.target.parentElement);t.splice(s,1),localStorage.setItem(n,JSON.stringify(t)),e.target.parentElement.remove()}}Array.from(document.querySelectorAll(".column")).forEach((e=>{null!==localStorage.getItem(e.id)&&JSON.parse(localStorage.getItem(e.id)).forEach((t=>{e.children[1].insertAdjacentHTML("beforeEnd",`<div class="colomn-card">\n                        <div class="colomn-card__text">${t}</div>\n                        <div class="colomn-card__close">&#10006</div>\n                    </div>`)}))})),window.onload=function(){new t(".columns"),new e(".columns")}}();
//# sourceMappingURL=main.js.map